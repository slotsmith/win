<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Slot Smith Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1f1f2e;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 5px;
      color: #00ffc3;
    }
    #lastUpdated {
      text-align: center;
      color: #ccc;
      font-size: 0.9rem;
      margin-bottom: 20px;
    }
    #searchBar {
      display: block;
      margin: 0 auto 30px auto;
      width: 60%;
      max-width: 600px;
      padding: 12px 20px;
      font-size: 1.1rem;
      border-radius: 15px;
      border: none;
      outline: none;
      box-shadow: 0 0 6px #00ffc3cc;
      background: #2c2c3c;
      color: #fff;
      transition: box-shadow 0.3s ease;
    }
    #searchBar::placeholder {
      color: #66fff0cc;
    }
    #searchBar:focus {
      box-shadow: 0 0 8px #00ffc3cc;
      background: #39394a;
    }
    .slots-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
      gap: 30px;
    }
    .slot-card {
      background: #2c2c3c;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    }
    .slot-card h2 {
      margin: 0 0 20px;
      color: #00d4ff;
      word-break: break-word;
    }
    .stat {
      margin: 8px 0;
      font-size: 1.1rem;
    }
    .graph-canvas {
      margin-top: 20px;
      width: 100% !important;
      max-height: 90px !important;
      height: auto !important;
    }
    .green {
      color: #00ffb3;
      font-weight: 600;
    }
    .yellow {
      color: #ffd966;
      font-weight: 600;
    }
    .red {
      color: #ff6666;
      font-weight: 600;
    }

    /* Admin Panel */
    #adminPanel {
      background: #222233;
      border-radius: 15px;
      padding: 15px 20px;
      max-width: 600px;
      margin: 0 auto 30px auto;
      display: none;
    }
    #adminPanel input[type="text"] {
      padding: 8px 12px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      outline: none;
      width: 70%;
      margin-right: 10px;
    }
    #adminPanel button {
      padding: 9px 15px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      background-color: #00ffc3;
      color: #000;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    #adminPanel button:hover {
      background-color: #00d4aa;
    }
    #adminPanel .remove-btn {
      background-color: #ff6666;
      color: white;
      margin-left: 10px;
      padding: 6px 10px;
      font-size: 0.9rem;
      border-radius: 8px;
    }
    #adminPanel .remove-btn:hover {
      background-color: #e65555;
    }

    /* Modal Styles */
    #loginModal {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #loginBox {
      background: #2c2c3c;
      padding: 30px 40px;
      border-radius: 15px;
      box-shadow: 0 0 15px #00ffc3;
      width: 320px;
      text-align: center;
    }
    #loginBox h2 {
      margin-bottom: 20px;
      color: #00ffc3;
    }
    #loginBox input {
      width: 100%;
      padding: 10px 15px;
      margin: 10px 0;
      border-radius: 12px;
      border: none;
      outline: none;
      font-size: 1rem;
      background: #39394a;
      color: #fff;
    }
    #loginBox button {
      margin-top: 15px;
      width: 100%;
      padding: 12px 0;
      font-size: 1.2rem;
      border: none;
      border-radius: 12px;
      background: #00ffc3;
      color: #000;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #loginBox button:hover {
      background: #00d4aa;
    }
    #loginError {
      color: #ff6666;
      margin-top: 10px;
      font-weight: 600;
      display: none;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ° Slot Smith Pro</h1>
  <p id="lastUpdated">Last updated: --</p>

  <input type="text" id="searchBar" placeholder="Search for a slot game..." />

  <div id="adminPanel">
    <input type="text" id="newSlotName" placeholder="Add new slot game name..." />
    <button id="addSlotBtn">Add Slot</button>
    <p style="margin-top: 15px; font-size: 1.1rem;">Remove slot games:</p>
    <div id="removeList"></div>
  </div>

  <div class="slots-container" id="slotsContainer"></div>

  <!-- Login Modal -->
  <div id="loginModal">
    <div id="loginBox">
      <h2>Admin Login</h2>
      <input type="text" id="username" placeholder="Username" autocomplete="off" />
      <input type="password" id="password" placeholder="Password" autocomplete="off" />
      <button id="loginBtn">Login</button>
      <p id="loginError">Invalid username or password.</p>
    </div>
  </div>

  <script>
    // Hardcoded admin credentials
    const ADMIN_USERNAME = "admin";
    const ADMIN_PASSWORD = "12345";

    const loginModal = document.getElementById('loginModal');
    const loginBtn = document.getElementById('loginBtn');
    const loginError = document.getElementById('loginError');

    loginBtn.addEventListener('click', () => {
      const user = document.getElementById('username').value.trim();
      const pass = document.getElementById('password').value.trim();
      if(user === ADMIN_USERNAME && pass === ADMIN_PASSWORD) {
        loginModal.style.display = 'none';
        adminMode = true;
        showAdminPanel();
        renderRemoveList();
      } else {
        loginError.style.display = 'block';
      }
    });

    let adminMode = false;

    const slotGames = [
      "Sweet Bonanza", "Gates of Olympus", "Starlight Princess", "Sugar Rush", "Big Bass Splash",
      "Wild West Gold", "The Dog House", "Power of Thor Megaways", "Jokerâ€™s Jewels", "Floating Dragon",
      "Madame Destiny Megaways", "John Hunter series", "Chilli Heat", "Buffalo King Megaways", "Mustang Gold",
      "5 Lions series", "Aztec Gems", "Pyramid Bonanza", "Lucky Lightning", "Irish Crown",
      "Gates of Olympus Super Scatter", "Mahjong Wins Super Scatter", "Wild West Gold Blazing Bounty",
      "Gates of Hades", "The Dog House â€“ Royal Hunt", "Book of Monsters", "Big Bass Bonanza 1000",
      "Starlight Princess 1000", "Gates of Olympus 1000", "Sugar Rush 1000", "Sweet Bonanza 1000",
      "Wisdom of Athena 1000", "Gates of Olympus Xmas 1000", "Hades Inferno 1000", "Lucky Tiger 1000",
      "Zeus vs Hades Gods of War", "Gates of Gatotkacha 1000", "Gates of Olympus X-Max 1000",
      "Gates of Gatotkacha", "Candy Blitz Bombs", "Fire Portals", "Sugar Rush X-Max", "Candy Blitz",
      "Rujak Bonanza", "Wildies", "Sweet Bonanza X-Max", "Happy Fortune", "Wisdom of Athena", "Sticky Bees",
      "Cyan Mania", "Forge of Olympus", "Wild Bison Church", "The Dog House Dog or Alive",
      "Mustang Gold Mega Waste", "Will of Gold", "Gates of Olympus Dice", "Aztec Treasure Hunt",
      "Angel vs Sinner", "Power of Ninja", "Six Joker", "Twilight Princess", "Cyber Heist",
      "Five Lions Mega Waste", "Big Bus Bay at the Graces", "Heart of Cleopatra", "The Dog House Mega Waste",
      "Release the Bison", "Power of Thor Mega Waste", "Buffalo King Mega Waste", "Chest of Kaishen",
      "Five Lions 2 Mega Waste", "Greedy Fortune Pig", "Majestic Express Gold Run", "Pig Farm",
      "Jumbo Safari", "Fiesta Fortune", "Sleeping Dragon", "Resurrecting Riches", "Witch Heart",
      "Super Scatter", "Cash Surge", "Five Lions Reborn", "Ride the Lightning", "Bandit Mega Waste",
      "Joker's Jewels Cash", "Blitz Super Wheel", "Triple Pot Gold", "Wild Wild Joker", "Lucky Wild Pop",
      "Raging Waterfall", "Pepe's Pepperoni Pizza Plaza", "Big Bus Return to the Graces", "Savannah Legend",
      "Bigger Bus Splash", "John Hunter and Galileo's Secret", "Ancient Island Mega Waste",
      "Escape the Pyramid Fire and Ice", "Wild Beast Wings", "Wild Wild Pearls", "Aztec Gems Mega Waste",
      "Brick House Bonanza", "Fonzo's Feline Fortune", "Aztec Smash", "Big Bus Bonanza 3-Railer",
      "Mining Rush", "Tiny Toads", "Santa's X-Mas Rush", "Penguin's Christmas Party Time", "Mighty Freya",
      "Big Bus X-Mas Extreme", "Eternal Empress", "Freeze Time", "Himalayan Wild", "Wolf Gold Ultimate",
      "Melanoir", "Candy Corner", "Seven Clovers of Fortune", "Connect Collect", "Fantastic Freeze Beans",
      "Vampy Party", "Big Bus Halloween", "Release the Kraken Mega Waste", "Fortune Heat and Roll",
      "888 Gold", "The Dog House Monthly Crew", "Anime Mega Mega Waste", "Budge Blitz", "High Flyer"
    ];

    function randomFloat(min, max) {
      return (Math.random() * (max - min) + min).toFixed(2);
    }

    function generateFakeHistory() {
      return Array.from({ length: 10 }, () => parseFloat(randomFloat(0, 100)));
    }

    function recommendBet(prediction) {
      if (prediction > 80) return "High Bet";
      if (prediction > 60) return "Medium Bet";
      if (prediction > 40) return "Low Bet";
      return "Skip Bet";
    }

    function recommendBetAmount(rate) {
      if (rate > 80) return "â‚±1000 Max";
      if (rate > 70) return "â‚±500â€“â‚±999";
      if (rate > 50) return "â‚±200â€“â‚±499";
      if (rate > 30) return "â‚±50â€“â‚±199";
      return "â‚±0â€“â‚±49";
    }

    function recommendSpinType(avg, prediction) {
      if (prediction > 75 || (prediction - avg) > 15) return "Buy Spin (ðŸ“ˆ High Spike)";
      if (prediction > 50) return "Normal Spin (Safe)";
      return "Avoid Spin (âš ï¸ Low Odds)";
    }

    function createChart(ctx, data) {
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({ length: data.length }, (_, i) => `T-${data.length - i}`),
          datasets: [{
            label: 'Win % History',
            data,
            borderColor: '#00ffc3',
            backgroundColor: 'rgba(0,255,195,0.1)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 100
            }
          }
        }
      });
    }

    const container = document.getElementById("slotsContainer");
    const searchBar = document.getElementById("searchBar");

    function renderSlots(games) {
      container.innerHTML = "";

      games.forEach(slot => {
        const history = generateFakeHistory();
        const avg = (history.reduce((a, b) => a + b) / history.length).toFixed(2);
        const prediction = parseFloat(randomFloat(0, 100));
        const betAdvice = recommendBet(prediction);
        const colorClass = prediction > 70 ? "green" : prediction > 40 ? "yellow" : "red";

        const slotCard = document.createElement("div");
        slotCard.className = "slot-card";
        slotCard.innerHTML = `
          <h2>${slot}</h2>
          <div class="stat">ðŸ“Š Moving Avg Win Rate: <span class="${colorClass}">${avg}%</span></div>
          <div class="stat">ðŸ”® Predicted Win Rate (next 30s): <span class="${colorClass}">${prediction}%</span></div>
          <div class="stat">ðŸ’¡ Recommended Bet: <b>${betAdvice}</b></div>
          <div class="stat">ðŸ’¸ Recommended Amount: <b>${recommendBetAmount(prediction)}</b></div>
          <div class="stat">ðŸŽ° Spin Type: <b>${recommendSpinType(avg, prediction)}</b></div>
          <canvas class="graph-canvas" id="chart-${slot.replace(/\s+/g, '')}" height="90"></canvas>
        `;
        container.appendChild(slotCard);

        const canvas = document.getElementById(`chart-${slot.replace(/\s+/g, '')}`);
        createChart(canvas, history);
      });
    }

    function updateSlots() {
      const currentGames = Array.from(document.querySelectorAll('.slot-card h2')).map(h => h.textContent);
      renderSlots(currentGames);
      const now = new Date().toLocaleTimeString();
      document.getElementById("lastUpdated").textContent = `Last updated: ${now}`;
    }

    // Admin panel elements
    const adminPanel = document.getElementById("adminPanel");
    const newSlotNameInput = document.getElementById("newSlotName");
    const addSlotBtn = document.getElementById("addSlotBtn");
    const removeListDiv = document.getElementById("removeList");

    function showAdminPanel() {
      adminPanel.style.display = "block";
    }

    function renderRemoveList() {
      removeListDiv.innerHTML = "";
      slotGames.forEach((slot, index) => {
        const div = document.createElement("div");
        div.style.marginBottom = "8px";
        div.innerHTML = `
          <span>${slot}</span>
          <button class="remove-btn" data-index="${index}">Remove</button>
        `;
        removeListDiv.appendChild(div);
      });

      // Add event listeners for remove buttons
      const removeButtons = removeListDiv.querySelectorAll(".remove-btn");
      removeButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          const idx = parseInt(btn.getAttribute("data-index"));
          slotGames.splice(idx, 1);
          renderRemoveList();
          filterAndRenderSlots();
        });
      });
    }

    addSlotBtn.addEventListener("click", () => {
      const newSlot = newSlotNameInput.value.trim();
      if(newSlot.length === 0) return alert("Please enter a slot game name.");
      if(slotGames.includes(newSlot)) return alert("Slot game already exists.");
      slotGames.push(newSlot);
      newSlotNameInput.value = "";
      renderRemoveList();
      filterAndRenderSlots();
    });

    function filterAndRenderSlots() {
      const searchTerm = searchBar.value.toLowerCase();
      const filteredGames = slotGames.filter(game => game.toLowerCase().includes(searchTerm));
      renderSlots(filteredGames);
    }

    searchBar.addEventListener("input", filterAndRenderSlots);

    // Initial render
    renderSlots(slotGames);
    setInterval(() => {
      if (!adminMode) return; // only update if logged in (to prevent updating search results)
      filterAndRenderSlots();
      const now = new Date().toLocaleTimeString();
      document.getElementById("lastUpdated").textContent = `Last updated: ${now}`;
    }, 30000);
  </script>
</body>
</html>
