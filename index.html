<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Slot Smith Pro</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1f1f2e;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: #00ffc3;
    }
    #searchBar {
      display: block;
      margin: 0 auto 30px auto;
      width: 60%;
      max-width: 600px;
      padding: 12px 20px;
      font-size: 1.1rem;
      border-radius: 15px;
      border: none;
      outline: none;
      box-shadow: 0 0 10px #00ffc3;
      background: #2c2c3c;
      color: #fff;
      transition: box-shadow 0.3s ease;
    }
    #searchBar::placeholder {
      color: #66fff0cc;
    }
    #searchBar:focus {
      box-shadow: 0 0 15px #00ffc3;
      background: #39394a;
    }
    .slots-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
      gap: 30px;
    }
    .slot-card {
      background: #2c2c3c;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    }
    .slot-card h2 {
      margin: 0 0 20px;
      color: #00d4ff;
      word-break: break-word;
    }
    .stat {
      margin: 8px 0;
      font-size: 1.1rem;
    }
    .graph-canvas {
      margin-top: 20px;
      width: 100% !important;
      max-height: 90px !important;
      height: auto !important;
    }
    .green {
      color: #00ffb3;
      font-weight: 600;
    }
    .yellow {
      color: #ffd966;
      font-weight: 600;
    }
    .red {
      color: #ff6666;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <h1>🎰 Slot Smith Pro</h1>
  <input type="text" id="searchBar" placeholder="Search for a slot game..." />
  <div class="slots-container" id="slotsContainer"></div>

  <script>
    const slotGames = [
      "Sweet Bonanza", "Gates of Olympus", "Starlight Princess", "Sugar Rush", "Big Bass Splash",
      "Wild West Gold", "The Dog House", "Power of Thor Megaways", "Joker’s Jewels", "Floating Dragon",
      "Madame Destiny Megaways", "John Hunter series", "Chilli Heat", "Buffalo King Megaways", "Mustang Gold",
      "5 Lions series", "Aztec Gems", "Pyramid Bonanza", "Lucky Lightning", "Irish Crown",
      "Gates of Olympus Super Scatter", "Mahjong Wins Super Scatter", "Wild West Gold Blazing Bounty",
      "Gates of Hades", "The Dog House – Royal Hunt", "Book of Monsters", "Big Bass Bonanza 1000",
      "Starlight Princess 1000", "Gates of Olympus 1000", "Sugar Rush 1000", "Sweet Bonanza 1000",
      "Wisdom of Athena 1000", "Gates of Olympus Xmas 1000", "Hades Inferno 1000", "Lucky Tiger 1000",
      "Zeus vs Hades Gods of War", "Gates of Gatotkacha 1000", "Gates of Olympus X-Max 1000",
      "Gates of Gatotkacha", "Candy Blitz Bombs", "Fire Portals", "Sugar Rush X-Max", "Candy Blitz",
      "Rujak Bonanza", "Wildies", "Sweet Bonanza X-Max", "Happy Fortune", "Wisdom of Athena", "Sticky Bees",
      "Cyan Mania", "Forge of Olympus", "Wild Bison Church", "The Dog House Dog or Alive",
      "Mustang Gold Mega Waste", "Will of Gold", "Gates of Olympus Dice", "Aztec Treasure Hunt",
      "Angel vs Sinner", "Power of Ninja", "Six Joker", "Twilight Princess", "Cyber Heist",
      "Five Lions Mega Waste", "Big Bus Bay at the Graces", "Heart of Cleopatra", "The Dog House Mega Waste",
      "Release the Bison", "Power of Thor Mega Waste", "Buffalo King Mega Waste", "Chest of Kaishen",
      "Five Lions 2 Mega Waste", "Greedy Fortune Pig", "Majestic Express Gold Run", "Pig Farm",
      "Jumbo Safari", "Fiesta Fortune", "Sleeping Dragon", "Resurrecting Riches", "Witch Heart",
      "Super Scatter", "Cash Surge", "Five Lions Reborn", "Ride the Lightning", "Bandit Mega Waste",
      "Joker's Jewels Cash", "Blitz Super Wheel", "Triple Pot Gold", "Wild Wild Joker", "Lucky Wild Pop",
      "Raging Waterfall", "Pepe's Pepperoni Pizza Plaza", "Big Bus Return to the Graces", "Savannah Legend",
      "Bigger Bus Splash", "John Hunter and Galileo's Secret", "Ancient Island Mega Waste",
      "Escape the Pyramid Fire and Ice", "Wild Beast Wings", "Wild Wild Pearls", "Aztec Gems Mega Waste",
      "Brick House Bonanza", "Fonzo's Feline Fortune", "Aztec Smash", "Big Bus Bonanza 3-Railer",
      "Mining Rush", "Tiny Toads", "Santa's X-Mas Rush", "Penguin's Christmas Party Time", "Mighty Freya",
      "Big Bus X-Mas Extreme", "Eternal Empress", "Freeze Time", "Himalayan Wild", "Wolf Gold Ultimate",
      "Melanoir", "Candy Corner", "Seven Clovers of Fortune", "Connect Collect", "Fantastic Freeze Beans",
      "Vampy Party", "Big Bus Halloween", "Release the Kraken Mega Waste", "Fortune Heat and Roll",
      "888 Gold", "The Dog House Monthly Crew", "Anime Mega Mega Waste", "Budge Blitz", "High Flyer"
    ];

    function randomFloat(min, max) {
      return (Math.random() * (max - min) + min).toFixed(2);
    }

    function generateFakeHistory() {
      return Array.from({ length: 10 }, () => parseFloat(randomFloat(0, 100)));
    }

    function recommendBet(prediction) {
      if (prediction > 80) return "High Bet";
      if (prediction > 60) return "Medium Bet";
      if (prediction > 40) return "Low Bet";
      return "Skip Bet";
    }

    function recommendBetAmount(rate) {
      if (rate > 80) return "₱1000 Max";
      if (rate > 70) return "₱500–₱999";
      if (rate > 50) return "₱200–₱499";
      if (rate > 30) return "₱50–₱199";
      return "₱0–₱49";
    }

    function recommendSpinType(avg, prediction) {
      if (prediction > 75 || (prediction - avg) > 15) return "Buy Spin (📈 High Spike)";
      if (prediction > 50) return "Normal Spin (Safe)";
      return "Avoid Spin (⚠️ Low Odds)";
    }

    function createChart(ctx, data) {
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({ length: data.length }, (_, i) => `T-${data.length - i}`),
          datasets: [{
            label: 'Win % History',
            data,
            borderColor: '#00ffc3',
            backgroundColor: 'rgba(0,255,195,0.1)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 100
            }
          }
        }
      });
    }

    const container = document.getElementById("slotsContainer");

    function renderSlots(games) {
      container.innerHTML = ""; // clear before rendering

      games.forEach(slot => {
        const history = generateFakeHistory();
        const avg = (history.reduce((a, b) => a + b) / history.length).toFixed(2);
        const prediction = randomFloat(0, 100);
        const betAdvice = recommendBet(prediction);
        const colorClass = prediction > 70 ? "green" : prediction > 40 ? "yellow" : "red";

        const slotCard = document.createElement("div");
        slotCard.className = "slot-card";
        slotCard.innerHTML = `
          <h2>${slot}</h2>
          <div class="stat">📊 Moving Avg Win Rate: <span class="${colorClass}">${avg}%</span></div>
          <div class="stat">🔮 Predicted Win Rate (next 30s): <span class="${colorClass}">${prediction}%</span></div>
          <div class="stat">💡 Recommended Bet: <b>${betAdvice}</b></div>
          <div class="stat">💸 Recommended Amount: <b>${recommendBetAmount(prediction)}</b></div>
          <div class="stat">🎰 Spin Type: <b>${recommendSpinType(avg, prediction)}</b></div>
          <canvas class="graph-canvas" id="chart-${slot.replace(/\s+/g, '')}" height="90"></canvas>
        `;

        container.appendChild(slotCard);

        const canvas = document.getElementById(`chart-${slot.replace(/\s+/g, '')}`);
        createChart(canvas, history);
      });
    }

    // Initial render with all games
    renderSlots(slotGames);

    // Search functionality
    const searchBar = document.getElementById("searchBar");
    searchBar.addEventListener("input", (e) => {
      const searchTerm = e.target.value.toLowerCase();
      const filteredGames = slotGames.filter(game => game.toLowerCase().includes(searchTerm));
      renderSlots(filteredGames);
    });
  </script>
</body>
</html>
