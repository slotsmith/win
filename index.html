<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Slot Smith Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1f1f2e;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: #00ffc3;
    }
    #searchContainer {
      text-align: center;
      margin-bottom: 40px;
    }
    #searchInput {
      padding: 10px 15px;
      width: 300px;
      border-radius: 10px 0 0 10px;
      border: none;
      font-size: 1rem;
      outline: none;
    }
    #searchButton {
      padding: 10px 20px;
      border-radius: 0 10px 10px 0;
      border: none;
      background-color: #00ffc3;
      color: #1f1f2e;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }
    #searchButton:hover {
      background-color: #00d4a3;
    }
    .slots-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
      gap: 30px;
    }
    .slot-card {
      background: #2c2c3c;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    }
    .slot-card h2 {
      margin: 0 0 20px;
      color: #00d4ff;
    }
    .stat {
      margin: 8px 0;
      font-size: 1.1rem;
    }
    .graph-canvas {
      margin-top: 20px;
      width: 100% !important;
    }
    .green { color: #00ffb1; }
    .yellow { color: #ffd93b; }
    .red { color: #ff4c4c; }
  </style>
</head>
<body>
  <h1>ðŸŽ° Slot Smith Tracker</h1>

  <div id="searchContainer">
    <input type="text" id="searchInput" placeholder="Search slot games..." />
    <button id="searchButton">Search</button>
  </div>

  <div class="slots-container" id="slotsContainer"></div>

  <script>
    // Array of objects with popularity score (example values)
    const slotGamesWithPopularity = [
      { name: "Gates of Olympus", popularity: 98 },
      { name: "Sweet Bonanza", popularity: 95 },
      { name: "Starlight Princess", popularity: 90 },
      { name: "Sugar Rush", popularity: 88 },
      { name: "Big Bass Splash", popularity: 85 },
      { name: "Wild West Gold", popularity: 83 },
      { name: "The Dog House", popularity: 80 },
      { name: "Power of Thor Megaways", popularity: 78 },
      { name: "Jokerâ€™s Jewels", popularity: 75 },
      { name: "Floating Dragon", popularity: 73 },
      { name: "Madame Destiny Megaways", popularity: 70 },
      { name: "John Hunter series", popularity: 68 },
      { name: "Chilli Heat", popularity: 65 },
      { name: "Buffalo King Megaways", popularity: 63 },
      { name: "Mustang Gold", popularity: 60 },
      { name: "5 Lions series", popularity: 58 },
      { name: "Aztec Gems", popularity: 55 },
      { name: "Pyramid Bonanza", popularity: 53 },
      { name: "Lucky Lightning", popularity: 50 },
      { name: "Gates of Olympus Super Scatter", popularity: 48 },
      { name: "Mahjong Wins Super Scatter", popularity: 46 },
      { name: "Wild West Gold Blazing Bounty", popularity: 44 },
      { name: "Gates of Hades", popularity: 42 },
      { name: "The Dog House â€“ Royal Hunt", popularity: 40 },
      { name: "Book of Monsters", popularity: 38 },
      { name: "Big Bass Bonanza 1000", popularity: 36 },
      { name: "Starlight Princess 1000", popularity: 35 },
      { name: "Gates of Olympus 1000", popularity: 34 },
      { name: "Sugar Rush 1000", popularity: 33 },
      { name: "Sweet Bonanza 1000", popularity: 32 },
      { name: "Wisdom of Athena 1000", popularity: 31 },
      { name: "Gates of Olympus Xmas 1000", popularity: 30 },
      { name: "Hades Inferno 1000", popularity: 29 },
      { name: "Lucky Tiger 1000", popularity: 28 },
      { name: "Irish Crown", popularity: 27 },
      { name: "Zeus vs Hades Gods of War", popularity: 26 },
      { name: "Gates of Gatotkacha 1000", popularity: 25 },
      { name: "Gates of Gatotkacha", popularity: 24 },
      { name: "Candy Blitz Bombs", popularity: 23 },
      { name: "Fire Portals", popularity: 22 },
      { name: "Sugar Rush X-Max", popularity: 21 },
      { name: "Candy Blitz", popularity: 20 },
      { name: "Rujak Bonanza", popularity: 19 },
      { name: "Wildies", popularity: 18 },
      { name: "Sweet Bonanza X-Max", popularity: 17 },
      { name: "Happy Fortune", popularity: 16 },
      { name: "Sticky Bees", popularity: 15 },
      { name: "Cyan Mania", popularity: 14 },
      { name: "Forge of Olympus", popularity: 13 },
      { name: "Wild Bison Church", popularity: 12 },
      { name: "The Dog House Dog or Alive", popularity: 11 },
      { name: "Mustang Gold Mega Waste", popularity: 10 },
      { name: "Will of Gold", popularity: 9 },
      { name: "Gates of Olympus Dice", popularity: 8 },
      { name: "Aztec Treasure Hunt", popularity: 7 },
      { name: "Angel vs Sinner", popularity: 6 },
      { name: "Power of Ninja", popularity: 5 },
      { name: "Six Joker", popularity: 4 },
      { name: "Twilight Princess", popularity: 3 },
      { name: "Cyber Heist", popularity: 2 },
      { name: "Five Lions Mega Waste", popularity: 1 },
      // ... you can assign more or adjust these values as you want
      { name: "Big Bus Bay at the Graces", popularity: 50 },
      { name: "Heart of Cleopatra", popularity: 49 },
      { name: "The Dog House Mega Waste", popularity: 48 },
      { name: "Release the Bison", popularity: 47 },
      { name: "Power of Thor Mega Waste", popularity: 46 },
      { name: "Buffalo King Mega Waste", popularity: 45 },
      { name: "Chest of Kaishen", popularity: 44 },
      { name: "Five Lions 2 Mega Waste", popularity: 43 },
      { name: "Greedy Fortune Pig", popularity: 42 },
      { name: "Majestic Express Gold Run", popularity: 41 },
      { name: "Pig Farm", popularity: 40 },
      { name: "Jumbo Safari", popularity: 39 },
      { name: "Fiesta Fortune", popularity: 38 },
      { name: "Sleeping Dragon", popularity: 37 },
      { name: "Resurrecting Riches", popularity: 36 },
      { name: "Witch Heart", popularity: 35 },
      { name: "Super Scatter", popularity: 34 },
      { name: "Cash Surge", popularity: 33 },
      { name: "Five Lions Reborn", popularity: 32 },
      { name: "Ride the Lightning", popularity: 31 },
      { name: "Bandit Mega Waste", popularity: 30 },
      { name: "Joker's Jewels Cash", popularity: 29 },
      { name: "Blitz Super Wheel", popularity: 28 },
      { name: "Triple Pot Gold", popularity: 27 },
      { name: "Wild Wild Joker", popularity: 26 },
      { name: "Lucky Wild Pop", popularity: 25 },
      { name: "Raging Waterfall", popularity: 24 },
      { name: "Pepe's Pepperoni Pizza Plaza", popularity: 23 },
      { name: "Big Bus Return to the Graces", popularity: 22 },
      { name: "Savannah Legend", popularity: 21 },
      { name: "Bigger Bus Splash", popularity: 20 },
      { name: "John Hunter and Galileo's Secret", popularity: 19 },
      { name: "Ancient Island Mega Waste", popularity: 18 },
      { name: "Escape the Pyramid Fire and Ice", popularity: 17 },
      { name: "Wild Beast Wings", popularity: 16 },
      { name: "Aztec Gems Mega Waste", popularity: 15 },
      { name: "Brick House Bonanza", popularity: 14 },
      { name: "Fonzo's Feline Fortune", popularity: 13 },
      { name: "Aztec Smash", popularity: 12 },
      { name: "Big Bus Bonanza 3-Railer", popularity: 11 },
      { name: "Mining Rush", popularity: 10 },
      { name: "Tiny Toads", popularity: 9 },
      { name: "Santa's X-Mas Rush", popularity: 8 },
      { name: "Penguin's Christmas Party Time", popularity: 7 },
      { name: "Mighty Freya", popularity: 6 },
      { name: "Big Bus X-Mas Extreme", popularity: 5 },
      { name: "Eternal Empress", popularity: 4 },
      { name: "Freeze Time", popularity: 3 },
      { name: "Himalayan Wild", popularity: 2 },
      { name: "Wolf Gold Ultimate", popularity: 1 },
      { name: "Melanoir", popularity: 0 },
      { name: "Candy Corner", popularity: 0 },
      { name: "Seven Clovers of Fortune", popularity: 0 },
      { name: "Connect Collect", popularity: 0 },
      { name: "Fantastic Freeze Beans", popularity: 0 },
      { name: "Vampy Party", popularity: 0 },
      { name: "Big Bus Halloween", popularity: 0 },
      { name: "Release the Kraken Mega Waste", popularity: 0 },
      { name: "Fortune Heat and Roll", popularity: 0 },
      { name: "888 Gold", popularity: 0 },
      { name: "The Dog House Monthly Crew", popularity: 0 },
      { name: "Anime Mega Mega Waste", popularity: 0 },
      { name: "Budge Blitz", popularity: 0 },
      { name: "High Flyer", popularity: 0 }
    ];

    // Sort descending by popularity before rendering
    slotGamesWithPopularity.sort((a, b) => b.popularity - a.popularity);

    function randomFloat(min, max) {
      return (Math.random() * (max - min) + min).toFixed(2);
    }

    function generateFakeHistory() {
      return Array.from({ length: 10 }, () => parseFloat(randomFloat(0, 100)));
    }

    function recommendBet(prediction) {
      if (prediction > 80) return "High Bet";
      if (prediction > 60) return "Medium Bet";
      if (prediction > 40) return "Low Bet";
      return "Skip Bet";
    }

    function recommendBetAmount(rate) {
      if (rate > 80) return "â‚±1000 Max";
      if (rate > 70) return "â‚±500â€“â‚±999";
      if (rate > 50) return "â‚±200â€“â‚±499";
      if (rate > 30) return "â‚±50â€“â‚±199";
      return "â‚±0â€“â‚±49";
    }

    function recommendSpinType(avg, prediction) {
      if (prediction > 75 || (prediction - avg) > 15) return "Buy Spin (ðŸ“ˆ High Spike)";
      if (prediction > 50) return "Normal Spin (Safe)";
      return "Avoid Spin (âš ï¸ Low Odds)";
    }

    function createChart(ctx, data) {
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.map((_, i) => i + 1),
          datasets: [{
            label: 'Win Rate %',
            data: data,
            borderColor: '#00ffc3',
            backgroundColor: 'rgba(0,255,195,0.2)',
            fill: true,
            tension: 0.3,
            pointRadius: 3,
            pointBackgroundColor: '#00ffc3',
          }]
        },
        options: {
          scales: {
            y: {
              min: 0,
              max: 100,
              ticks: { color: '#00ffc3' },
              grid: { color: '#333' }
            },
            x: {
              ticks: { color: '#00ffc3' },
              grid: { color: '#333' }
            }
          },
          plugins: { legend: { labels: { color: '#00ffc3' } } },
          responsive: true,
          maintainAspectRatio: false
        }
      });
    }

    const container = document.getElementById("slotsContainer");
    const searchInput = document.getElementById("searchInput");
    const searchButton = document.getElementById("searchButton");

    function renderSlots(filteredSlots) {
      container.innerHTML = '';
      filteredSlots.forEach(slotObj => {
        const slot = slotObj.name;
        const history = generateFakeHistory();
        const avg = (history.reduce((a, b) => a + b) / history.length).toFixed(2);
        const prediction = randomFloat(0, 100);
        const betAdvice = recommendBet(prediction);
        const colorClass = prediction > 70 ? "green" : prediction > 40 ? "yellow" : "red";

        const slotCard = document.createElement("div");
        slotCard.className = "slot-card";
        slotCard.innerHTML = `
          <h2>${slot}</h2>
          <div class="stat">ðŸ“Š Moving Avg Win Rate: <span class="${colorClass}">${avg}%</span></div>
          <div class="stat">ðŸ”® Predicted Win Rate (next 30s): <span class="${colorClass}">${prediction}%</span></div>
          <div class="stat">ðŸ’¡ Recommended Bet: <b>${betAdvice}</b></div>
          <div class="stat">ðŸ’¸ Recommended Amount: <b>${recommendBetAmount(prediction)}</b></div>
          <div class="stat">ðŸŽ° Spin Type: <b>${recommendSpinType(avg, prediction)}</b></div>
          <canvas class="graph-canvas" id="chart-${slot.replace(/\s+/g, '')}" height="120"></canvas>
        `;

        container.appendChild(slotCard);

        const canvas = document.getElementById(`chart-${slot.replace(/\s+/g, '')}`);
        createChart(canvas, history);
      });
    }

    function filterSlots() {
      const query = searchInput.value.toLowerCase().trim();
      if (!query) {
        renderSlots(slotGamesWithPopularity);
        return;
      }
      const filtered = slotGamesWithPopularity.filter(game =>
        game.name.toLowerCase().includes(query)
      );
      renderSlots(filtered);
    }

    searchButton.addEventListener("click", filterSlots);

    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        filterSlots();
      }
    });

    // Initial render all slots sorted by popularity
    renderSlots(slotGamesWithPopularity);
  </script>
</body>
</html>
